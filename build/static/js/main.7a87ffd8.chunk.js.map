{"version":3,"sources":["namesnumbers.js","nameForm.js","filterForm.js","serverService.js","App.js","index.js"],"names":["Persons","persons","remove","map","person","key","name","number","onClick","nameForm","props","onSubmit","addName","value","newName","onChange","handleNameInput","newNumber","handleNumInput","type","filter","newFilter","handleFilterInput","axios","get","then","response","data","newPerson","post","id","delete","toUpdate","find","p","updatedPerson","put","Notification","message","className","Error","App","useState","setPersons","setNewName","setNewNumber","setNewFilter","notifMessage","setNotification","errorMessage","setError","replaceNum","server","r","setTimeout","catch","err","handleError","namesToShow","match","RegExp","useEffect","event","target","preventDefault","some","window","confirm","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7a87ffd8.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Persons = ({persons, remove}) => {\r\n    return(\r\n        persons.map(person =>\r\n            <p key={person.name}>\r\n                {person.name}: {person.number}\r\n                <button onClick={() => remove(person)} >delete</button>\r\n            </p>\r\n            )\r\n    )\r\n}\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst nameForm = (props) =>{\r\n\r\n    return (\r\n        <form onSubmit={props.addName}>\r\n            <div>\r\n            name: <input value={props.newName} onChange={props.handleNameInput}/>\r\n            </div>\r\n            <div>\r\n                number: <input value={props.newNumber} onChange={props.handleNumInput} />\r\n            </div>\r\n            <div>\r\n            <button type=\"submit\">add</button>\r\n            </div>\r\n        </form>\r\n\r\n        )\r\n}\r\n\r\nexport default nameForm","import React from 'react'\r\n\r\nconst filter = (props) =>{\r\n    return (\r\n        <form>\r\n          <div>\r\n              filter shown names: <input value={props.newFilter} onChange={props.handleFilterInput} />\r\n          </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default filter","import axios from 'axios'\r\n\r\nconst getAll = () =>{\r\n    const data = axios.get('/api/persons')\r\n\r\n    return data.then(response => response.data)\r\n}\r\n\r\nconst addNew = (newPerson) =>{\r\n    axios.post('/api/persons', newPerson)\r\n\r\n}\r\n\r\nconst removeName = (id) =>{\r\n    return axios.delete(`/api/persons/${id}`)\r\n}\r\n\r\nconst replaceNum = (persons, name, number) =>{\r\n\r\n    const toUpdate = persons.find(p => p.name === name)\r\n    const updatedPerson = { ... toUpdate, number: number}\r\n    const updated = axios.put(`http://localhost:3001/api/persons/${updatedPerson.id}`, updatedPerson)\r\n    return updated.then(response => response.data)\r\n}\r\n\r\nexport default {getAll, addNew, removeName, replaceNum}","import React, { useState, useEffect } from 'react'\r\nimport Persons from './namesnumbers'\r\nimport NameForm from './nameForm'\r\nimport FilterForm from './filterForm'\r\nimport server from './serverService'\r\n\r\nconst Notification = ({message}) =>{\r\n  if (message === null){\r\n    return null\r\n  }\r\n\r\n  return(\r\n    <div className='notification'>\r\n    {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst Error = ({message}) =>{\r\n  if (message === null){\r\n    return null\r\n  }\r\n\r\n  return(\r\n    <div className='error'>\r\n    {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons] = useState([])\r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [newFilter, setNewFilter ] = useState('')\r\n\r\n  const [ notifMessage, setNotification] = useState('')\r\n  const [ errorMessage, setError] = useState('')\r\n\r\n\r\n  const addName = (event) =>{\r\n    event.preventDefault()\r\n\r\n    const match = (person) => person.name === newName\r\n    const alreadyInList = persons.some(match)\r\n    if (alreadyInList){\r\n\r\n        const replace = window.confirm(`${newName} is already in the phonebook. Replace their older number with ${newNumber}?`)\r\n        if (replace){\r\n          replaceNum(newName, newNumber)\r\n\r\n        }\r\n\r\n        return\r\n    }\r\n\r\n    const newPerson = {\r\n        name: newName,\r\n        number: newNumber\r\n    }\r\n\r\n    setPersons(persons.concat(newPerson))\r\n    server.addNew(newPerson)\r\n\r\n    setNotification(`Added ${newName}`)\r\n    setTimeout(() =>{\r\n      setNotification('')\r\n    }, 5000)\r\n    \r\n  }\r\n\r\n  const removeName = (p) =>{\r\n    const toDelete = window.confirm(`Are you sure you want to delete ${p.name} from the phonebook?`)\r\n\r\n    if (toDelete){\r\n      server.removeName(p.id).then(response =>{\r\n        const names = server.getAll()\r\n        names.then(response =>{\r\n          setPersons(response)\r\n\r\n          setNotification(`Deleted ${p.name}`)\r\n          setTimeout(() =>{\r\n            setNotification('')\r\n          }, 5000)\r\n        })\r\n      })\r\n\r\n      .catch(err =>{\r\n        handleError(p.name)\r\n      })\r\n    }  \r\n  }\r\n\r\n  const replaceNum = (name, number) =>{\r\n    server.replaceNum(persons, name, number).then(r =>{\r\n      const names = server.getAll()\r\n      names.then(response =>{\r\n        setPersons(response)\r\n\r\n        setNotification(`Succesfully changed ${newName}'s number!`)\r\n        setTimeout(() =>{\r\n          setNotification('')\r\n        }, 5000)\r\n      })\r\n    })\r\n\r\n    .catch(err =>{\r\n      handleError(name)\r\n    })\r\n  }\r\n\r\n  const handleError = (name) =>{\r\n    setError(`${name} has already been removed`)\r\n      setTimeout(() =>{\r\n        setError('')\r\n      }, 5000)\r\n\r\n      const data = server.getAll()\r\n      data.then(response => {\r\n        setPersons(response)\r\n      })\r\n  }\r\n\r\n  const handleNameInput = (event) =>{\r\n    \r\n    setNewName(event.target.value)\r\n    \r\n  }\r\n\r\n  const handleNumInput = (event) =>{\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const namesToShow = persons.filter(person => person.name.match(new RegExp(newFilter, \"i\")))\r\n\r\n  const handleFilterInput = (event) =>{\r\n      setNewFilter(event.target.value)\r\n      \r\n  }\r\n\r\n  useEffect(() =>{\r\n    const data = server.getAll()\r\n    data.then(response => {\r\n      setPersons(response)\r\n    })\r\n   }, [])\r\n\r\n  \r\n  return (\r\n    <div>\r\n      <h1>Phonebook</h1>\r\n      <FilterForm newFilter={newFilter} handleFilterInput={handleFilterInput}/>      \r\n\r\n      <h2>Add New</h2>\r\n      <NameForm addName={addName} newName={newName} handleNameInput={handleNameInput}\r\n      newNumber={newNumber} handleNumInput={handleNumInput}/>\r\n\r\n      <Notification message={notifMessage} />\r\n      <Error message={errorMessage} />\r\n\r\n      <h2>Numbers</h2>\r\n      <Persons persons={namesToShow} remove={removeName}/>\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}